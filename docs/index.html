<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>P2P Insurance Dapp</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  <script src="./dist/metamask-onboarding.bundle.js"></script>

  <style >
    #loader {
        border: 12px solid #f3f3f3;
        border-radius: 50%;
        border-top: 12px solid #444444;
        width: 70px;
        height: 70px;
        animation: spin 1s linear infinite;
    } 
    @keyframes spin {
        100% {
            transform: rotate(360deg);
        }
    } 
    .center {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
    }
  </style>

</head>

<body>
  <h1>P2P Insurance Dapp</h1>
  <h2>
    One-Stop-Shop to join an existing insurance pool, or create your own pool!
  </h2>
  <div id="mm-detected" style="margin:5px"></div>

  <!-- Connect to MetaMask Wallet -->

  <button id="mm-connect">Connect to MetaMask</button>

  &nbsp;<br/>

  <!-- Display current address -->

  <div id="mm-current-account"></div>

  <!-- Provide an input to change the contract text value -->
  
  &nbsp;<br/>

  <div>
  <input id="pp-pool-numOfMemebers" type="number" placeholder="Min Number of Members"/>  
  <input id="pp-pool-premium" type="number" placeholder="Pool Premium"/>  
  <input id="pp-pool-maxCoveragePerMember" type="number" placeholder="Max Coverage/Member"/>  
  <button id="create-pool-button">Create Pool</button>
  </div>

  &nbsp;<br/>

  <!-- Read input from contract -->

  <div>
    <button id="pp-get-value" style="margin:5px">Refresh Pools</button>
  </div>

  <div id="pools">
    <table id="poolsList"  border="1" cellpadding="2">
        <tr>
            <td><b>Pool Id</b></td>
            <td><b>Pool Address</b></td>
            <td><b>Min Number of Members</b></td>
            <td><b>Premium</b></td>
            <td><b>max Coverage/Memeber</b></td>
            <td><b>Status</b></td>
            <td><b>Policy Start Date</b></td>
            <td><b>Pool Balance</b></td>
            <td><b>Available Fund</b></td>
            <td><b>Current Members Count</b></td>
            <td><b>Join Pool?</b></td>

        </tr>
    </table>
    &nbsp;<br/>
  </div>

  &nbsp;<br/>

  <div id="member" >
    <b>Member joined to these Pools:</b>
    <table id="memberPools"  border="1" cellpadding="2">
        <tr>
            <td><b>Pool Id</b></td>
            <td><b>Available Balance</b></td>
            <td><b>Total Claims</b></td>
            <td><b>Remaining Coverage</b></td>
            <td><b>Is Pool Manager</b></td>
            <td><b>Member Actions</b></td>
        </tr>
    </table>
    &nbsp;<br/>
  </div>

  <div>
    <input id="pool-id" type="number" placeholder="Pool ID"/>  
    <input id="claim-amount" type="number" placeholder="Claim Amount"/>  
    <button id="request-claim-button">Request a Claim</button>
  </div>

  <div id="loader" class="center" style="display: none"></div>

</body>


<!-- Had trouble and had to move the script down! -->

<script src="dapp.js"></script>
<script src="UI.js"></script>

</html>